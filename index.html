<!DOCTYPE html>
<html ng-app="dashboardApp">
	<head>
		<meta charset="utf-8" />
		<meta name="format-detection" content="telephone=no" />
		<!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
		<!-- the meta viewport tag indicates to the mobile device's browswer how to treat this website -->
		<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1, width=device-width, height=device-height" />
		<!-- the font stylesheet only includes the icons fonts used  -->
		<!-- <link rel="stylesheet" type="text/css" href="css/bootstrap3.css"> -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.12.1/datatables.min.css"/>
		<link rel="stylesheet" type="text/css" href="css/style.css" />

		<script src="js/d3.min.js"></script>
		<!-- <script src="https://d3js.org/d3.v4.min.js"></script> -->
		<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script> -->
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
		<script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
		<script src="js/main.js"></script>





		<meta name="robots" content="noindex,follow">

		<title>Jura Jede</title>
	</head>
	<body class="container-fluid p-3">
		<div class="container text-center">
			<div class="row text-left">
				<div class="col">
					<h1>Jura Jede</h1>
				</div>
			</div>
			<div class="row text-left">
				<div class="col">
					Cyklistický výkon Jiřího Beneše
				</div>
			</div>

			<hr class="border"/>

			<div class="row">
				<div class="col text-center">
					<h2>Celkem</h2>
				</div>
			</div>
			<div class="row justify-content-center">
				<div class="col-auto mb-4">
					<div class="card" style="width: 18rem;">
						<div class="card-body">
							<h5 class="card-title">Vzdálenost</h5>
							<p class="card-text"><span class="sum-distance-km">150000</span> km</p>
						</div>
					</div>
				</div>
				<div class="col-auto mb-4">
					<div class="card" style="width: 18rem;">
						<div class="card-body">
							<h5 class="card-title">Kolem rovníku</h5>
							<p class="card-text"><span class="sum-distance-equators">9.1357</span>&#215;</p>
						</div>
					</div>
				</div>
				<div class="col-auto mb-4">
					<div class="card" style="width: 18rem;">
						<div class="card-body">
							<h5 class="card-title">Aktivních dní</h5>
							<p class="card-text"><span class="sum-active-days">1567</span></p>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-12">
					Traceplot kilometry od roku 1992
			  	</div>
			</div>
			<br/><br/><br/>
			<div class="row">
				<div class="col-12">
					Heatmap kilometry od roku 1992
			  	</div>
			</div>

			<hr class="border"/>

			<div class="row">
				<div class="col text-center">
					<h2>Zatím v tomto roce</h2>
				</div>
			</div>

			<div class="row justify-content-center">
				<div class="col-auto mb-4">
					<div class="card" style="width: 18rem;">
						<div class="card-body">
							<h5 class="card-title">Vzdálenost</h5>
							<p class="card-text"><span class="year-distance-km">10000</span> km (^ 2%)</p>
						</div>
					</div>
				</div>
				<div class="col-auto mb-4">
					<div class="card" style="width: 18rem;">
						<div class="card-body">
							<h5 class="card-title">Denní průměr</h5>
							<p class="card-text">78km (v 1.2%)</p>
						</div>
					</div>
				</div>
				<div class="col-auto mb-4">
					<div class="card" style="width: 18rem;">
						<div class="card-body">
							<h5 class="card-title">Aktivní dny</h5>
							<p class="card-text"><span class="year-active-days">255</span> (^ 1%)</p>
						</div>
					</div>
				</div>
			</div>

		  	<div class="row">
				<div class="col-12">
					Traceplot tento rok vs. 5 posledních let (s 95% CI)
				</div>
				<br/><br/><br/>
		  	</div>

			<hr class="border"/>

			<div class="row">
				<div class="col text-center">
					<h2>Data</h2>
				</div>
			</div>
			<div class="row">
				<div class="col-12">
					<a href="data/data.tsv" download="data.tsv">
						<button type="button" class="btn btn-primary">Stáhnout data (.tsv)</button>
					</a>
				</div>
		  	</div>
			<div class="row">
				<div class="col">
					<table class="table table-hover table-sm" id="data-table">
						<thead class="thead-dark">
							<tr>
								<th scope="col">#</th>
								<th scope="col">Měsíc</th>
								<th scope="col">Ujeté kilometry</th>
								<th scope="col">Aktivní dny</th>
							</tr>
						</thead>
						<tbody id="data-table-body" class="text-left"></tbody>
					</table>
				</div>
				<br/><br/><br/>
		  	</div>

			<hr class="border"/>

		</div>
		<div class="footer">
			<div class="container text-center">
				<div class="row">
					<div class="col-md-12">
						Poslední data: <span class="last-data">Červenec 2022</span>
					</div>
				</div>
				<div class="row">
					<div class="col">
						Design: Martin Beneš, 2022
					</div>
					<br/><br/>
				</div>
			</div>
		</div>
	</body>

	<script type="text/javascript"charset="utf-8">


	$(document).ready(function () {
        d3.tsv(
			"https://raw.githubusercontent.com/jurajede/jurajede.github.io/main/data/data.tsv",
			function(data, id) {
				data.id = id + 1;
				// process data
				data = processData(data);

				// use for creating table
				tabulate(data, ['month_cz_year', 'km', 'days'])
				return data
			},
		).then(function(data) {
			$('#data-table').DataTable( {
        		//responsive: true,
        		"pageLength": 10,
        		searching: false,
        		//paging: false,
        		//info: false
				language: {
        			processing:     "Zpracovávám",
					search:         "Hledat&nbsp;:",
        			lengthMenu:    	"_MENU_ položek na stránku",
        			info:           "Zobrazuji položky _START_ až _END_ z celkových _TOTAL_",
        			infoEmpty:      "Zobrazuji položky 0 až 0 z celkových 0",
        			//infoFiltered:   "(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)",
        			infoPostFix:    "",
        			loadingRecords: "Načítám...",
        			zeroRecords:    "Žádné položky",
        			emptyTable:     "Žádná data",
        			paginate: {
		            	first:      "První",
        		    	previous:   "Předchozí",
           			 	next:       "Následující",
            			last:       "Poslední"
        			},
        			aria: {
            			sortAscending:  "Seřadit vzestupně podle sloupce",
            			sortDescending: "Seřadit sestupně podle sloupce"
        			}
    			}
			});
			updateIndicators(data)
			updateLastData(data)
		})
    });


	</script>

</html>