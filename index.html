<!DOCTYPE html>
<html ng-app="dashboardApp">
	<head>
		<meta charset="utf-8" />
		<meta name="format-detection" content="telephone=no" />
		<!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
		<!-- the meta viewport tag indicates to the mobile device's browswer how to treat this website -->
		<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1, width=device-width, height=device-height" />
		<!-- the font stylesheet only includes the icons fonts used  -->
		<link rel="stylesheet" type="text/css" href="css/bootstrap3.css">
		<!--<link rel="stylesheet" type="text/css" href="css/style.css" />-->

		<script src="js/d3.min.js"></script>

		<meta name="robots" content="noindex,follow">

		<title>Jura Jede</title>
	</head>
	<body class="container-fluid p-3">
		<div class="container text-center">
			<div class="row text-left">
				<div class="col">
					<h1>Jura Jede</h1>
				</div>
			</div>
			<div class="row text-left">
				<div class="col">
					Cyklistický výkon Jiřího Beneše
				</div>
			</div>
			<div class="row">
				<hr/>
			</div>

			<div class="row">
				<h2 class="text-center">Celkem (od roku 1992)</h2>
			</div>
			<div class="row">
			  	<div class="col-md-4 col-xs-12">
					Celkem kilometrů
			  	</div>
			  	<div class="col-md-4 col-xs-12">
					Celkem kolem rovníku
			  	</div>
				<div class="col-md-4 col-xs-12">
					Celkem aktivních dní
			  	</div>
			</div>

			<div class="row">
				<div class="col-12">
					Traceplot kilometry od roku 1992
			  	</div>
			</div>
			<br/><br/><br/>
			<div class="row">
				<div class="col-12">
					Heatmap kilometry od roku 1992
			  	</div>
			</div>
			<br/><br/><br/>
			<div class="row">
				<hr/>
			</div>

			<div class="row">
				<h2 class="text-center">V tomto roce</h2>
			</div>
			<div class="row">
				<div class="col-md-4 col-xs-12">
					Ujeto v tomto roce<br/>
					+ rozdíl od pětiletého průměru
				</div>
				<div class="col-md-4 col-xs-12">
					Denní průměr v tomto roce<br/>
					+ rozdíl od pětiletého průměru
				</div>
			  	<div class="col-md-4 col-xs-12">
					Průměr aktivních dní v tomto roce<br/>
					+ rozdíl od pětiletého průměru
				</div>
		  	</div>
		  	<div class="row">
				<div class="col-12">
					Traceplot tento rok vs. 5 posledních let (s 95% CI)
				</div>
				<br/><br/><br/>
		  	</div>
		  	<div class="row">
				<hr/>
			</div>

			<div class="row">
				<h2 class="text-center">Data</h2>
			</div>
			<div class="row">
				<div class="col-12" id="data-table">
					<span>Tabulka s holými daty</span>
				</div>
				<br/><br/><br/>
		  	</div>
			<div class="row">
				<div class="col-12">
					<a href="/data/data.tsv" download="data.tsv">
						<button type="button" class="btn btn-primary">Stáhnout (.tsv)</button>
					</a>
				</div>
		  	</div>
			<div class="row">
				<hr/>
			</div>

		</div>
		<div class="footer">
			<div class="container text-center">
				<div class="row">
					<div class="col-md-12">
						Poslední data: Červenec 2022
					</div>
				</div>
				<div class="row">
					<div class="col">
						Design: Martin Beneš, 2022
					</div>
					<br/><br/>
				</div>
			</div>
		</div>
	</body>
	<script>

	// (d3
	// 	.select("body")
	// 	.append("span")
	// 	.text("Hello, world!"));

	</script>
	<script type="text/javascript"charset="utf-8">

	function createTable(data) {
		var container = d3
			.select("#data-table")
			.append("table")

			.selectAll("tr")
			.data(data).enter()
			.append("tr")

			.selectAll("td")
				.data(function(d) { return d; }).enter()
				.append("td")
				.text(function(d) { return d; });
	}

	d3.tsv("/data/data.tsv", function(data) {

		data = {
			year: data.year,
			month: data.month,
			km: data.km,
			days: data.days,
		}

		// parse data
		console.log(data);

		// create table view
		createTable(data);

	});

	</script>

</html>